<div class="container mt-3 mb-3">
  
    <div >
        <mdb-card class="mt-3 mb-3">
            <mdb-card-title>
                <h4 class="text-center mt-3">Buscar Usuários</h4>
            </mdb-card-title>
    
            <mdb-card-body class="text-center">
                <div class="row mb-2">
                    <div class="col-md-6">
                      <div class="form-outline">
                        <input type="text" id="nome" class="form-control"  [(ngModel)]="nome" [ngModelOptions]="{standalone: true}" />
                        <label class="form-label" for="nome">Nome</label>
                      </div>
                    </div>

                      
                    <div class="col-md-4">
                      <div class="form-outline">
                        <button type="button" class="btn btn-outline-primary " data-mdb-ripple-color="dark" (click)="buscarUsuarios()" >
                            Buscar
                        </button>
                      </div>
                    </div>
                </div>
            </mdb-card-body>
        </mdb-card>
    
        <mdb-card >
    
            <div *ngIf="loading" class="spinner-border text-primary mt-5 mb-5" role="status" style="width: 100px; height: 100px; position: relative; margin: 0 auto;">
                <span class="visually-hidden"></span>
            </div>
        
            <!--Card content-->
            <mdb-card-body *ngIf="usuarios?.length">
          
              <!--Title-->
              <mdb-card-title>
                <h4 class="text-center">Meus Usuários</h4>
              </mdb-card-title>
              <div class="table-responsive">
                <table class="table">
                    <thead>
                      <tr>
                        <th scope="col">id</th>
                        <th scope="col">Nome</th>
                        <th scope="col">email</th>
                        <th scope="col">Telefone</th>
                        <th scope="col">CEP</th>
                        <th scope="col">Rua</th>
                        <th scope="col">Número</th>
                        <th scope="col">Bairro</th>
                        <th scope="col">Cidade</th>
                        <th scope="col">Estado</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let usuario of usuarios | paginate: { itemsPerPage: 10, currentPage: p }">
                        <th scope="row">{{usuario.id}}</th>
                        <td>{{usuario.nome}}</td>
                        <td>{{usuario.email}}</td>
                        <td>{{usuario.telefone}}</td>
                        <td>{{usuario.cep}}</td>
                        <td>{{usuario.rua}}</td>
                        <td>{{usuario.numero}}</td>
                        <td>{{usuario.bairro}}</td>
                        <td>{{usuario.cidade}}</td>
                        <td>{{usuario.estado}}</td>
                      </tr>
                     
                    </tbody>
                  </table>
                  <pagination-controls (pageChange)="p = $event" previousLabel="Anterior"
                  nextLabel="Próximo"></pagination-controls>
              </div>
    
          
            </mdb-card-body>
          </mdb-card>    

    </div>
    <mdb-card *ngIf="!usuarios?.length && !loading">
        <mdb-card-title>
            <h4 class="text-center mt-3">Nenhum Usuário encontrado!</h4>
        </mdb-card-title>

        <mdb-card-body class="text-center">
            <i class="fas fa-user-times fa-5x" style="color: #00bcd4;"></i>
            <br>
            <button type="button" class="btn btn-outline-primary mt-4" data-mdb-ripple-color="dark" [routerLink]="['novo']">
                Cadastrar
              </button>
        </mdb-card-body>
    </mdb-card>
</div>