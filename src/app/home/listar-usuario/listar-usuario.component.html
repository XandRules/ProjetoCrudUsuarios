<div class="container mt-3 mb-3">
  
    <div >
        <mdb-card class="mt-3 mb-3">
            <mdb-card-title>
                <h4 class="text-center mt-3">Buscar Usuários</h4>
            </mdb-card-title>
    
            <mdb-card-body class="text-center">
                <div class="row mb-2">
                    <div class="col-md-6">
                      <div class="form-outline">
                        <input type="text" id="nome" class="form-control"  [(ngModel)]="nome" [ngModelOptions]="{standalone: true}" />
                        <label class="form-label" for="nome">Nome</label>
                      </div>
                    </div>

                      
                    <div class="col-md-4">
                      <div class="form-outline">
                        <button type="button" class="btn btn-outline-primary " data-mdb-ripple-color="dark" (click)="buscarUsuarios()" >
                            Buscar
                        </button>
                      </div>
                    </div>
                </div>
            </mdb-card-body>
        </mdb-card>

        <mdb-card>
            <div class="example-container mat-elevation-z8 container" *ngIf="usuarios?.length">
                <table mat-table [dataSource]="usuarios">
              
                  <!-- Name Column -->
                  <ng-container matColumnDef="nome" sticky>
                    <th mat-header-cell *matHeaderCellDef  class="w-100"> Nome </th>
                    <td mat-cell *matCellDef="let element" (click)="selecionarUsuario(element.nome, element.id)" style="cursor: pointer;"> {{element.nome}} </td>
                    
                  </ng-container>
              
                  <!-- Position Column -->
                  <ng-container matColumnDef="email" sticky>
                    <th mat-header-cell *matHeaderCellDef  class="w-100"> E-mail. </th>
                    <td mat-cell *matCellDef="let element"> {{element.email}} </td>
                  </ng-container>
              
                  <!-- Weight Column -->
                  <ng-container matColumnDef="telefone" sticky>
                    <th mat-header-cell *matHeaderCellDef  class="w-50"> Telefone </th>
                    <td mat-cell *matCellDef="let element"> {{element.telefone}} </td>
                  </ng-container>
              
                  <!-- Symbol Column -->
                  <ng-container matColumnDef="data_nasc" sticky>
                    <th mat-header-cell *matHeaderCellDef  class="w-50"> Data Nascimento </th>
                    <td mat-cell *matCellDef="let element"> {{element.data_nasc}} </td>
                  </ng-container>
  
                <ng-container matColumnDef="cep">
                    <th mat-header-cell *matHeaderCellDef  class="w-50"> CEP </th>
                    <td mat-cell *matCellDef="let element"> {{element.cep}} </td>
                  </ng-container>
              
                  <ng-container matColumnDef="rua">
                    <th mat-header-cell *matHeaderCellDef  class="w-50"> Rua </th>
                    <td mat-cell *matCellDef="let element"> {{element.rua}} </td>
                  </ng-container>
             
                  <ng-container matColumnDef="cidade">
                    <th mat-header-cell *matHeaderCellDef  class="w-100"> Cidade </th>
                    <td mat-cell *matCellDef="let element"> {{element.cidade}} </td>
                  </ng-container>
        
                  <ng-container matColumnDef="bairro">
                    <th mat-header-cell *matHeaderCellDef  class="w-50"> Bairro </th>
                    <td mat-cell *matCellDef="let element"> {{element.bairro}} </td>
                  </ng-container>
        
                  <ng-container matColumnDef="numero">
                    <th mat-header-cell *matHeaderCellDef  class="w-20"> Número </th>
                    <td mat-cell *matCellDef="let element"> {{element.numero}} </td>
                  </ng-container>
        
                  <ng-container matColumnDef="estado">
                    <th mat-header-cell *matHeaderCellDef  class="w-50" style="margin-left: 20px;"> Estado </th>
                    <td mat-cell *matCellDef="let element"> {{element.estado}} </td>
                  </ng-container>
              
                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns | paginate: { itemsPerPage: 10, currentPage: p }; "></tr>
                </table>
                <pagination-controls (pageChange)="p = $event" previousLabel="Anterior"
                nextLabel="Próximo"></pagination-controls>
              </div>
        </mdb-card>
    
        <mdb-card >
    
            <div *ngIf="loading" class="spinner-border text-primary mt-5 mb-5" role="status" style="width: 100px; height: 100px; position: relative; margin: 0 auto;">
                <span class="visually-hidden"></span>
            </div>
        
          </mdb-card>    

    </div>
    <mdb-card *ngIf="!usuarios?.length && !loading">
        <mdb-card-title>
            <h4 class="text-center mt-3">Nenhum Usuário encontrado!</h4>
        </mdb-card-title>

        <mdb-card-body class="text-center">
            <i class="fas fa-user-times fa-5x" style="color: #00bcd4;"></i>
            <br>
            <button type="button" class="btn btn-outline-primary mt-4" data-mdb-ripple-color="dark" [routerLink]="['/novo']">
                Cadastrar
              </button>
        </mdb-card-body>
    </mdb-card>
</div>